# Prompt 优化指南

如何编写高质量的 AI 提示词，获得更好的总结效果。

## 📝 Prompt 基础

### 什么是 Prompt

Prompt 是发送给 AI 的指令，告诉它如何处理你的笔记并生成总结。

**QuickNote 的 Prompt 结构:**
```
系统约束（固定）
+
用户自定义规则
+
笔记内容
```

### 默认 Prompt

QuickNote 内置的默认 Prompt 包含:
- 角色定义
- 输出格式要求
- 分析维度
- 质量标准

## ✍️ 编写技巧

### 1. 明确目标

**不好的示例:**
```
请总结这些笔记。
```

**好的示例:**
```
请分析以下笔记，生成一份结构化的日总结，包括:
1. 核心要点（3-5条）
2. 待办事项清单
3. 重要链接和资源
4. 洞察和建议
```

### 2. 指定格式

**使用 Markdown 格式:**
```markdown
输出格式要求:

# 📊 统计概览
- 笔记数: {{count}}
- 总字数: {{words}}

# 🎯 核心要点
1. ...
2. ...

# ✅ 待办事项
- [ ] ...

# 🔗 资源链接
- ...

# 💡 洞察建议
...
```

### 3. 提供示例

**添加输出示例:**
```markdown
示例输出:

# 🎯 核心要点
1. 完成了用户认证模块的开发
2. 学习了 SwiftUI 的状态管理
3. 解决了内存泄漏问题

# ✅ 待办事项
- [ ] 编写单元测试
- [ ] 更新文档
```

### 4. 设置约束

**字数限制:**
```
要求:
- 核心要点: 每条不超过 50 字
- 总结长度: 500-1000 字
- 避免冗余和重复
```

**风格要求:**
```
风格:
- 使用简洁专业的语言
- 避免口语化表达
- 使用主动语态
- 突出关键信息
```

## 🎯 常见场景

### 工作总结

```markdown
你是一个专业的工作助手。请分析以下工作笔记，生成日报:

{{content}}

要求:
1. 今日完成的工作（按重要性排序）
2. 遇到的问题和解决方案
3. 明日计划
4. 需要协调的事项

格式要求:
- 使用项目符号
- 突出关键成果
- 标注优先级（高/中/低）
```

### 学习笔记

```markdown
你是一个学习助手。请整理以下学习笔记:

{{content}}

要求:
1. 核心知识点提取
2. 重要概念解释
3. 代码示例整理
4. 延伸学习建议

输出:
# 📚 知识点
- ...

# 💻 代码示例
​```language
...
​```

# 🔗 延伸阅读
- ...
```

### 创意收集

```markdown
你是一个创意顾问。请分析这些想法和灵感:

{{content}}

要求:
1. 识别创意主题
2. 发现想法之间的联系
3. 评估可行性
4. 提供实施建议

格式:
# 💡 创意主题
...

# 🔗 关联分析
...

# ⭐ 推荐行动
...
```

### 任务管理

```markdown
你是一个任务管理助手。请从笔记中提取任务:

{{content}}

要求:
1. 识别所有待办事项
2. 按优先级分类（紧急/重要/一般）
3. 估算时间成本
4. 识别依赖关系

输出:
# 🔴 紧急任务
- [ ] 任务1 (预计: 2h)

# 🟡 重要任务
- [ ] 任务2 (预计: 4h)

# 🟢 一般任务
- [ ] 任务3 (预计: 1h)
```

## 🔧 优化技巧

### 使用变量

QuickNote 支持的变量:

```markdown
今天是 {{date}}，共记录了 {{count}} 条笔记。

请分析以下内容:
{{content}}
```

### 分步骤指导

```markdown
请按以下步骤分析:

步骤1: 阅读所有笔记，识别主题
步骤2: 提取关键信息和数据
步骤3: 整理成结构化格式
步骤4: 添加洞察和建议

最终输出格式:
...
```

### 角色扮演

```markdown
你是一位经验丰富的项目经理。请以项目管理的视角分析这些笔记:
- 关注进度和里程碑
- 识别风险和阻碍
- 提供可行的建议
```

### 质量要求

```markdown
质量标准:
- 准确性: 不添加原文没有的信息
- 完整性: 不遗漏重要内容
- 简洁性: 去除冗余和重复
- 可读性: 使用清晰的结构和格式
```

## 📊 测试和迭代

### 测试流程

1. **准备测试数据**
   - 记录 5-10 条典型笔记
   - 覆盖不同类型的内容

2. **生成总结**
   - 使用新的 Prompt
   - 观察输出质量

3. **评估结果**
   - 是否符合预期格式？
   - 是否提取了关键信息？
   - 是否有遗漏或错误？

4. **调整优化**
   - 修改 Prompt
   - 重新测试
   - 持续改进

### 评估维度

| 维度 | 评分标准 |
|------|----------|
| 准确性 | 信息是否准确无误 |
| 完整性 | 是否涵盖所有要点 |
| 结构性 | 格式是否清晰 |
| 可读性 | 是否易于理解 |
| 实用性 | 是否有实际价值 |

## 💡 高级技巧

### 条件输出

```markdown
根据笔记内容决定输出:
- 如果包含代码，添加"技术要点"部分
- 如果包含链接，添加"资源清单"部分
- 如果包含待办，添加"任务列表"部分
```

### 多语言支持

```markdown
输出语言: 中文
专业术语: 保留英文原文，添加中文注释

示例:
- API (应用程序接口)
- Webhook (网络钩子)
```

### 个性化风格

```markdown
写作风格:
- 使用第一人称（"我完成了..."）
- 保持积极乐观的语气
- 适当使用 Emoji 增强可读性
```

### 上下文记忆

```markdown
参考历史总结:
- 关注连续性和进展
- 识别重复出现的主题
- 追踪长期目标的进度
```

## 🎯 模板库

### 极简模板

```markdown
请用 3-5 句话总结今天的笔记:
{{content}}

要求: 简洁、准确、突出重点
```

### 详细模板

```markdown
请详细分析以下笔记，生成完整的日总结:

{{content}}

输出结构:
1. 执行摘要 (100字)
2. 详细内容 (按主题分类)
3. 数据统计
4. 行动建议
5. 反思总结
```

### GTD 模板

```markdown
使用 GTD 方法论整理笔记:

{{content}}

分类:
- 📥 收集箱: 需要进一步处理的想法
- ⏭️ 下一步行动: 可立即执行的任务
- 📅 日程安排: 有明确时间的事项
- 🔮 未来/也许: 暂时不做的想法
- 📚 参考资料: 有用的信息和链接
```

## 🔍 调试技巧

### 问题诊断

**输出格式混乱:**
- 检查格式要求是否明确
- 添加具体的格式示例
- 使用 Markdown 标记

**遗漏重要信息:**
- 强调"不要遗漏任何内容"
- 列出必须包含的要素
- 增加完整性要求

**内容过于简略:**
- 设置最小字数要求
- 要求详细解释
- 添加"展开说明"指令

**包含错误信息:**
- 强调"仅基于原文"
- 禁止添加推测
- 要求标注不确定的内容

## 📚 学习资源

- [OpenAI Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering)
- [Anthropic Prompt Library](https://docs.anthropic.com/claude/prompt-library)
- [Prompt Engineering Guide](https://www.promptingguide.ai/)

## 🎯 下一步

- 🤖 配置 [AI 服务](ai-setup.md)
- 🌐 设置 [Webhook 集成](webhook-guide.md)
- 💡 查看 [最佳实践](best-practices.md)
